# Модель прецедентів

## Загальна схема

@startuml

    actor "Користувач" as user
    actor "Адміністратор" as Admin
    
    usecase "**Registration** \nРеєстрація" as RG
    usecase "**Exit** \nВихід з облікового запису" as EX
    usecase "**Login** \nАвторизація" as LG
    usecase "**Account management** \nКерування обліковим записом" as AM
    usecase "**Technical support** \nЗвернення до технічної підтримки" as TS
    usecase "**Project management** \nКерування проектами" as PM

    usecase "<b>acc_manip</b>\nКерування обліковими\n записами користувачів" as ManipAccount
    usecase "<b>source_manip</b>\nКерування джерелами інформації" as ManipSource
    usecase "<b>req_manager</b>\nКерування запитами користувачів" as ReqManager

    Admin -d-> ManipAccount
    Admin -d-> ManipSource
    Admin -d-> ReqManager
    Admin -u-|> user
    user -d-> LG
    user -r-> RG
    user -d-> EX
    user -d-> AM
    user -l-> TS
    user -u-> PM 

@enduml


## Користувач
@startuml

    actor "Користувач" as user
    
    usecase "**Registration** \nРеєстрація" as RG
    usecase "**Exit** \nВихід з облікового запису" as EX
    usecase "**Login** \nАвторизація" as LG
    usecase "**Account management** \nКерування обліковим записом" as AM
    usecase "**Technical support** \nЗвернення до технічної підтримки" as TS

    usecase "**Send an email for access** \nВідправити листа для доступу" as SA
    usecase "**Create question** \nСтворення запиту" as CQ
    usecase "**Type of submission** \nВид подачи" as EI
    usecase "**Take resalt question** \nОтримати результат" as TRQ
    usecase "**Overview history question** \nПерегляд історії запиту" as OHQ
    usecase "**Overview project** \nПерегляд проектів" as OP
    usecase "**Project management** \nКерування проектами" as PM
    usecase "**Connect to project** \nЗайти в проект" as CP

    user -d-> LG
    user -d-> RG
    user -d-> EX
    user -d-> AM
    user -l-> TS
    user -u-> PM 
    PM <.r. OP : <<extend>>
    PM <.u. SA : <<extend>>
    PM <.u. CP : <<extend>>
    CP <.u. TRQ : <<extend>>
    CP <.u. OHQ : <<extend>>
    TRQ <.r. CQ : <<extend>>
    TRQ <.r. EI : <<extend>>
@enduml

## Схема використання для адміністратора


@startuml

    actor "Адміністратор" as Admin

    usecase "<b>acc_manip</b>\nКерування обліковими\n записами користувачів" as ManipAccount
    usecase "<b>source_manip</b>\nКерування джерелами інформації" as ManipSource
    usecase "<b>req_manager</b>\nКерування запитами користувачів" as ReqManager

    usecase "<b>delete_account</b>\nВидалення облікового запису\n користувача" as DeleteAccount
    usecase "<b>add_source</b>\nДодавання нового джерела" as AddSource
    usecase "<b>add_rights</b>\nНадання додаткових прав\n користувачу" as GrantPermissions
    usecase "<b>delete_source</b>\nВидалення джерела" as DeleteSource
    usecase "<b>view_req</b>\nПереглянути запит" as ViewReq

    Admin --> ManipAccount
    DeleteAccount .u.> ManipAccount: <<extends>>
    GrantPermissions .u.> ManipAccount: <<extends>>

    Admin --> ManipSource
    AddSource .u.> ManipSource: <<extends>>
    DeleteSource .u.> ManipSource: <<extends>>

    Admin --> ReqManager
    ViewReq .u.> ReqManager: <<extends>>

@enduml

**Діаграма прецедентів**

## Сценарії використання

### Користувач

#### Реєстрація користувача

| **ID:**                  | USER.REGISTRATION                                                              |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Створити новий обліковий запис                                                 |
| **УЧАСНИКИ:**            | Користувач, Система                                                            |
| **ПЕРЕДУМОВИ:**          | 1. Користувач не має облікового запису в системі                               |
|                          | 2. Користувач не війшов до системи за допомогою існуючого облікового запису    |
| **РЕЗУЛЬТАТ:**           | Новий обліковий запис користувача                                              |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | 1. Користувач ввів вже зареєстроване ім'я користувача (USER.NAME_EXIST == True)|
|                          | 2. Користувач ввів вже зареєстровану електронну пошту (USER.MAIL_EXIST == True)|
|                          | 3. Користувач вводить недопустимі символи (USER.INJECTION_DENY)                |
|                          | 4. Пусті поля для обов'язкового заповнення (USER.EMPTY_FIELD)                  |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Користувач вводить реєстраційні дані                                        |
|                          | 2. Користувач натискає кнопку "Зареєструватись"                                |
|                          | 3. Система перевіряє чи пусті поля для введення                                |
|                          | 4. Система перевіряє коректність введених символів                             |
|                          | 5. Система перевіряє наявність користувача з таким ім'ям                       |
|                          | 6. Система перевіряє наявність користувача з такою адресою електронної пошти   |
|                          | 7. Система створює новий обліковий запис, використовуючи введені дані          |
|                          | 8. Система перенаправляє користувача у створений обліковий запис.              |

@startuml
|Користувач|
start
:Вводить реєстраційні дані;
:Натискає кнопку "Зареєструватись";
|Система|
:Перевіряє введені дані;
note right #FF736E
USER.EMPTY_FIELD
USER.INJECTION_DENY
USER.NAME_EXIST == True
USER.MAIL_EXIST == True
end note
:Створює новий обліковий запис;
:Перенаправляє користувача у створений обліковий запис;
|Користувач|
stop;
@enduml


#### Вхід користувача в систему

| **ID:**                  | USER.LOG_IN                                                                    |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Вхід до облікового запису зареєстрованого користувача                          |
| **УЧАСНИКИ:**            | Користувач, Система                                                            |
| **ПЕРЕДУМОВИ:**          | Користувач зареєстрований у системі                                            |
| **РЕЗУЛЬТАТ:**           | Вхід в систему                                                                 |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | 1. Користувач ввів ім'я користуавача, яке не існує (USER.NAME_EXIST == False)  |
|                          | 2. Користувач ввів не правильний пароль (USER.INCORRECT_PASSWORD)              |
|                          | 3. Пусті поля для обов'язкового заповнення (USER.EMPTY_FIELD)                  |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Користувач вводить дані для входу                                           |
|                          | 2. Користувач натискає кнопку "Увійти"                                         |
|                          | 3. Система перевіряє чи пусті поля для введення                                |
|                          | 4. Система перевіряє наявність користувача з таким ім'ям                       |
|                          | 5. Система перевіряє коректність введеного паролю                              |
|                          | 6. Система авторизує користувача                                               |
|                          | 7. Система перенаправляє користувача в обліковий запис.                        |

@startuml
|Користувач|
start
:Вводить облікові дані;
:Натискає кнопку "Увійти";
|Система|
:Перевіряє введені дані;
note right #FF736E
USER.EMPTY_FIELD
USER.NAME_EXIST == False
USER.INCORRECT_PASSWORD
end note
:Авторизує користувача;
:Перенаправляє користувача в обліковий запис;
|Користувач|
stop;
@enduml

#### Редагування профілю
| **ID:**                  | USER.EDIT                                             |
| ------------------------ |-------------------------------------------------------|
| **НАЗВА:**               | Редагувати профіль                                    |
| **УЧАСНИКИ:**            | Користувач, Система                                   |
| **ПЕРЕДУМОВИ:**          | Користувач авторизований у системі                    |
| **РЕЗУЛЬТАТ:**           | Редакція даних користувача у системі                  |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | 1. Користувач не заповнив усі обов'язкові поля        |
|                          | 2. Користувач увів пароль, який не відповідає вимогам |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Користувач заходить на сторінку облікового запису  |
|                          | 2. Користувач натискає кнопку "Редагувати дані"       |
|                          | 3. Користувач заповнює всі поля                       |
|                          | 4. Користувач натискає кнопку "Змінити"              |
|                          | 5. Система перевіряє введені дані                     |
|                          | 6. Система зберігає нові дані                         |

@startuml
|Користувач|
start
:Користувач заходить на сторінку облікового запису;
:Користувач натискає кнопку "Редагувати дані";
:Користувач заповнює всі поля;
:Натискає кнопку "Змінити";

|Система|
:Система перевіряє введені дані;
:Система зберігає нові дані;
:Надсилає підтвердження успішної операції;

|Користувач|
stop;

@enduml

#### Редагування завдання
| **ID:**                  | EDIT.TASK                                                |
| ------------------------ |----------------------------------------------------------|
| **НАЗВА:**               | Редагувати завдання                                      |
| **УЧАСНИКИ:**            | Користувач, Система                                      |
| **ПЕРЕДУМОВИ:**          | Користувач авторизований у системі                       |
| **РЕЗУЛЬТАТ:**           | Редагування завдання в проєкті                           |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | Користувач не заповнив усі обов'язкові поля              |                                                                              |                                                                                                           |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Користувач заходить на сторінку управління проєктами  |
|                          | 2. Користувач обирає проєкт та заходить на його сторінку |
|                          | 3. Користувач обирає завдання                            |
|                          | 4. Користувач натискає кнопку "Редагувати дані"          |
|                          | 5. Користувач заповнює всі поля                          |
|                          | 6. Користувач натискає кнопку "Редагувати"               |
|                          | 7. Система перевіряє введені дані                        |
|                          | 8. Система зберігає нові дані                            |


@startuml
|Користувач|
start
:Користувач заходить на сторінку управління проєктами;
:Користувач обирає проєкт та заходить на його сторінку;
:Користувач обирає завдання;
:Натискає кнопку "Редагувати дані";
:Користувач заповнює всі поля ;
:Натискає кнопку "Редагувати";


|Система|
:Система перевіряє введені дані ;
:Система зберігає нові дані ;
|Користувач|
stop;
@enduml

#### Вихід користувача з системи
| **ID:**                  | USER.LOG_OUT                                                                   |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Вихід користувача з системи                                                    |
| **УЧАСНИКИ:**            | Користувач, Система                                                            |
| **ПЕРЕДУМОВИ:**          | Користувач авторизований у системі                                             |
| **РЕЗУЛЬТАТ:**           | Вихід з системи                                                                |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | Користувач не увійшов в систему                                                |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Користувач натискає кнопку "Вихід"                                          |
|                          | 2. Система завершує поточну сессію з користувачем                              |
|                          | 3. Система перенаправляє користувача на головну сторінку                       |

@startuml
|Користувач|
start
:Користувач натискає кнопку "Вихід";
note left #FF736E
Користувач не увійшов в систему
end note
|Система|
:Система перевіряє поточну сессію з користувачем ;
note left #FF736E
Користувач не увійшов в систему
end note
|Система|
:Система завершує поточну сессію з користувачем;

|Система|
:Система надсилає підтвердження про успішне видалення користувача;

|Система|
:Система перенаправляє користувача на головну сторінку;

|Користувач|
:Користувач на головній сторінці;
stop;

@enduml

#### Створення запиту
| **ID:**                  | USER.CREATE_REQUEST                                                            |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Створити запит для аналізу медіа-контенту                                      |
| **УЧАСНИКИ:**            | Користувач, Система                                                            |
| **ПЕРЕДУМОВИ:**          | Користувач авторизований у системі                                             |
| **РЕЗУЛЬТАТ:**           | Запит користувача створено                                                     |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | 1. Користувач ввів недопустимі символи(USER.INJECTION_DENY)                    |
|                          | 2. Користувач не ввів дані у обов'язкові поля(USER.EMPTY_FIELD)                |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Користувач вводить запит                                                    |
|                          | 2. Користувач натискає кнопку "Створити запит"                                 |
|                          | 3. Система перевіряє коректність введених символів                             |
|                          | 4. Система перевіряє чи пусті поля для введення                                |
|                          | 5. Система створює запит користувача, використовуючи введені дані              |
|                          | 6. Система надсилає користувачу сповіщення про успішно створений запит         |

@startuml
|Користувач|
start
:Користувач вводить запит;
:Користувач натискає кнопку "Створити запит";
|Система|
:Система отримує запит на створення запиту користувачем;
:Система перевіряє коректність введених символів;
:Система перевіряє чи пусті поля для введення;
note right #ffaaaa

    USER.INJECTION_DENY
    USER.EMPTY_FIELD

    end note
    :Система створює запит користувача, використовуючи введені дані;
    :Система надсилає користувачу сповіщення про успішно створений запит;
|Користувач|
:Користувач отримує сповіщення про успішно створений запит;
stop;
@enduml

#### Перегляд історії запитів
| **ID:**                  | USER.VIEW_USER_REQUEST_HISTORY                                                 |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Перегляд історії запитів користувача                                           |
| **УЧАСНИКИ:**            | Користувач, Система                                                            |
| **ПЕРЕДУМОВИ:**          | Користувач авторизований у системі                                             |
| **РЕЗУЛЬТАТ:**           | Система надала доступ до історії запитів користувача                           |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   |                                                                                |    
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Користувач натискає кнопку "Прегляд історії запитів"                        |
|                          | 2. Система виводить історію запитів користувачу                                |
|                          | 3. Користувач переглядає історію запитів                                       |
|                          | 4. Користувач завершує перегляд історії запитів                                |

@startuml
|Користувач|
start
:Користувач натискає кнопку "Прегляд історії запитів";
|Система|
:Система отримує запит на перегляд історії запитів;
:Система виводить історію запитів користувачу;
|Користувач|
:Користувач отримує історію запитів;
:Користувач переглядає історію запитів;
:Користувач завершує перегляд історії запитів;
|Система|
:Система закриває перегляд історії запитів користувачу;
stop;
@enduml

### Адміністратор

#### Створення облікового запису користувача
| **ID:**                  | ADMIN.USER_CREATE                                                              |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Створення нового облікового запису                                             |
| **УЧАСНИКИ:**            | Адміністратор, Система                                                         |
| **ПЕРЕДУМОВИ:**          | Адміністратор авторизувався в системі                                          |
| **РЕЗУЛЬТАТ:**           | Обліковий запис користувача створено                                           |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | 1. Користувач вже зареєстрований(USER.REGISTRATION_EXIST == True)              |
|                          | 2. Поля містять недопустимі символи (USER.INJECTION_DENY)                      |                                     
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Адміністратор заповнює форму на реєстрацію користувача                      | 
|                          | 2. Адміністратор надсилає запит системі на створення користувача               |
|                          | 3. Система перевіряє отримані дані з форми                                     |
|                          | 4. Система реєструє нового користувача                                         |
|                          | 5. Система надсилає сповіщення адміністратору про успішну реєстрацію           |

@startuml
|Адміністратор|
start
: Заповнює форму на реєстрацію користувача;
: Надсилає запит системі на створення користувача;
|Система|
: Перевіряє отримані дані з форми;
note right #ffaaaa

    USER.REGISTRATION_EXIST == True
    USER.INJECTION_DENY
    
    end note
    : Реєструє нового користувача;
    : Надсилає сповіщення адміністратору про успішну реєстрацію;  
    stop;
@enduml

#### Обробка звернення користувача до служби підтримки
| **ID:**                  | ADMIN.TECHNICAL_SUPPORT                                                        |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Обробка звернення користувача до служби підтримки                              |
| **УЧАСНИКИ:**            | Адміністратор, Користувач, Система                                             |
| **ПЕРЕДУМОВИ:**          | 1. Адміністратор авторизувався в системі                                       |
|                          | 2. Адміністратор отримав запит від користувача                                 |
| **РЕЗУЛЬТАТ:**           | Звернення користувача оброблене                                                |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | 1. Користувач не зареєстрований (USER.REGISTRATION_EXIST == False)             |
|                          | 2. Запит користувача вже оброблений(USER.REQUEST_PROCESSED)                    |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Адміністратор надсилає запит на отримання звернення користувача             |
|                          | 2. Система перевіряє чи існує користувач                                       |
|                          | 3. Система перевіряє чи звернення користувача ще не оброблене                   |
|                          | 4. Система виводить запит данного користувача                                  |
|                          | 5. Адміністратор переглядає та аналізує запит користувача                      |
|                          | 6. Адміністратор створює відповідь на запит користувача                        |
|                          | 7. Система надсилає відповідь андмінастратора користувачу                      |
|                          | 8. Система надсилає адміністратору сповіщення про успішно надіслену відповідь  |

@startuml
|Адміністратор|
start
: Надсилає запит на отримання звернення користувача;
|Система|
: Система перевіряє чи існує користувач;
note right #ffaaaa

    USER.REGISTRATION_EXIST == False
    
    end note
    : Система перевіряє чи звернення користувача ще не оброблене;
    note right #ffaaaa
    
    USER.REQUEST_PROCESSED
    
    end note
    : Система виводить запит данного користувача;
|Адміністратор|
: Переглядає та аналізує запит користувача;
: Створює відповідь на запит користувача;
|Система|
: Надсилає відповідь андмінастратора користувачу;
: Надсилає адміністратору сповіщення про успішно надіслену відповідь;   
stop;
@enduml

#### Видалити обліковий запис користувача
| **ID:**                  | ADMIN.USER_DELETE                                                              |
| ------------------------ | ------------------------------------------------------------------------------ |
| **НАЗВА:**               | Видалення облікового запису                                                    |
| **УЧАСНИКИ:**            | Адміністратор, Система                                                         |
| **ПЕРЕДУМОВИ:**          | Адміністратор авторизувався в системі                                          |
| **РЕЗУЛЬТАТ:**           | Обліковий запис користувача видалено                                           |
| **ВИКЛЮЧНІ СИТУАЦІЇ:**   | 1. Користувач на зареєстрований (USER.REGISTRATION_EXIST == False)             |
|                          | 2. Поля містять недопустимі символи (USER.INJECTION_DENY)                      |
| **ОСНОВНИЙ СЦЕНАРІЙ:**   | 1. Адміністратор надсилає запит системі на видалення користувача               | 
|                          | 2. Система видаляє користувача з бази даних                                    |
|                          | 3. Система надсилає підтвердження про успішне видалення користувача            |
|                          | 4. Адміністратор завершує процедуру видалення облікового запису користувача    |

@startuml
|Адміністратор|
start
:Адміністратор надсилає запит системі на видалення користувача;
note left #FF736E
USER.REGISTRATION_EXIST == False
USER.INJECTION_DENY
end note
|Система|
:Система перевіряє запит;
note left #FF736E
USER.REGISTRATION_EXIST == False
USER.INJECTION_DENY
end note
|Система|
:Система видаляє користувача з бази даних;

|Система|
:Система надсилає підтвердження про успішне видалення користувача;

|Адміністратор|
:Адміністратор завершує процедуру видалення облікового запису користувача;
stop;

@enduml
